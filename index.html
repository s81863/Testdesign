<!doctype html>
<!--
 @license
 Copyright 2019 Google LLC. All Rights Reserved.
 SPDX-License-Identifier: Apache-2.0
-->
<html>
  <head>
    <title>Geomedien Test</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <link rel="stylesheet" type="text/css" href="./style.css" />
    <script type="module" src="./index.ts"></script>
  </head>
  <body>
	<div id="start-message">
      <h1>Willkommen zu unserer Studie!</h1>
      <p>Im Folgenden f&uuml;hren Sie einen Test durch, bei dem Sie sich mit Hilfe von 360&deg;-Panoramen auf einer Karte orientieren m&uuml;ssen. 
        Sie beginnen mit einem Tutorial, um sich mit der Umgebung und der Handhabung des Tests vertraut zu machen.
	  </p>
      <button id="start-button">Start</button>
    </div>
	
	<div id="tutorial" style="display: none;">
      <div id="tutorial-popups">
        <div id="tutorial-step-1" class="tutorial-popup" style="display: none;">
          <p>Hier sehen Sie ein Beispielpanorama. Verwenden Sie die Maus, um sich umzusehen und hineinzuzoomen.</p>
          <button id="tutorial-next-1">Weiter</button>
        </div>
        <div id="tutorial-step-2" class="tutorial-popup" style="display: none;">
          <p>Unten rechts sehen Sie eine interaktive Karte, die sie mit dem Pfeil vergr&ouml;&szlig;ern bzw. verkleinern k&ouml;nnen.
		         Verwenden Sie die Karte, um den Standort des Panoramas zu bestimmen. Damit Sie es leichter haben, ist der Kartenausschnitt auf eine bestimmte Region begrenzt und enth&auml;lt zus&auml;tzlich einen Rahmen. Jeder Panoramastandort liegt innerhalb des Rahmens</p>
          <button id="tutorial-next-2">Weiter</button>
        </div>
        <div id="tutorial-step-3" class="tutorial-popup" style="display: none;">
          <p>Wenn Sie meinen den Standort gefunden zu haben, setzen Sie einen Marker auf der Karte ab, um den Standort zu markieren. Sie k&ouml;nnen beliebig oft klicken. Der
		         Marker wird dann aktualisiert.
		         Klicken Sie anschlie&szlig;end auf "Standort einreichen".</p>
          <button id="tutorial-next-3">Weiter</button>
        </div>
        <div id="tutorial-step-4" class="tutorial-popup" style="display: none;">
          <p>Beantworten Sie die nun beide Fragen. Nennen Sie f&uuml;r die 2. Frage bitte stichpunktartig an welchen Elementen Sie sich 
            vordergr&uuml;ndig orientieren konnten.
            Wenn Sie auf OK klicken, kommen Sie zum n&auml;chsten Panorama.</p>
        </div>
        <div id="tutorial-step-5" class="tutorial-popup" style="display: none;">
          <p>Dies ist ein weiteres Beispielpanorama. Wenden Sie die gelernten Schritte darauf an. Aber beachten Sie, dass mit dem n&auml;chsten Panorama der eigentliche Test
             beginnt. Bitte f&uuml;llen Sie ihn nach Ihrem Ermessen z&uuml;gig und genau aus. Viel Spa&szlig;!
          </p>
          <button id="tutorial-finish">OK</button>
        </div>
      </div>
    </div>

    <div id="panorama-message" class="hidden" style="display: none">Ab hier beginnt der Test! </div>
	
    <div id="map" style="display: none;"></div>
	
    <div id="map-container" style="display: none;">
      <div id="google-map"></div>
      <button id="expand-map-button">&#8598;</button> <!-- Arrow icon for expand -->
	  <button id="submit-button" style="display: none;">Standort einreichen</button> <!-- New submit button -->
  </div>
	
  

	
	<div id="finished-message" style="display: none;">
      <h1>Fertig! Danke f&uuml;r Ihre Teilname</h1>
    </div>
	
	<div id="area-knowledge-modal" class="modal" style="display: none;">
      <div class="modal-content">
		<button id="modal-exit-button" class="modal-button">&times;</button>
        <p>Kennen Sie das Gebiet?</p>
        <label>
          <input type="checkbox" id="checkbox-yes" name="area-knowledge"> Ja
        </label>
        <label>
          <input type="checkbox" id="checkbox-no" name="area-knowledge"> Nein
        </label>
        <label>
          <p>Woran haben Sie sich orientiert?</p>
          <input type="text" id="landmark-input" name="landmark">
        </label>
        <button id="modal-ok-button" disabled style="display: none;">OK</button>
      </div>
    </div>

    <!-- 
      The `defer` attribute causes the callback to execute after the full HTML
      document has been parsed. For non-blocking uses, avoiding race conditions,
      and consistent behavior across browsers, consider loading using Promises.
      See https://developers.google.com/maps/documentation/javascript/load-maps-js-api
      for more information.
      -->
    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg&callback=initPano&v=weekly"
      defer
    ></script>
  </body>
</html>
