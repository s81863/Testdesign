<!doctype html>
<!--
 @license
 Copyright 2019 Google LLC. All Rights Reserved.
 SPDX-License-Identifier: Apache-2.0
-->
<html>
  <head>
    <title>Geomedien Test</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <link rel="stylesheet" type="text/css" href="./style.css" />
    <script type="module" src="./index.ts"></script>
  </head>
  <body>
	<div id="start-message">
      <h1>Willkommen zu unserer Studie!</h1>
      <p>In dieser Studie geht es um die Raumwahrnehmung anhand von 360&deg; Panoramen. Sie werden dazu eine Reihe von Google StreetView Panoramen und eine Karte sehen. 
	  Ihre Aufgabe besteht darin, den Standort des Panoramas auf der Karte zu ermitteln. Der Kartentyp ist entweder die 
	  Google Maps Standardkarte oder die Luftbild-Hybrid-Ansicht. Nach jedem Panorama &auml;ndert sich die Karte zum jeweils anderen Typ. Mit welchem Sie
	  starten h&auml;ngt von Ihrer Gruppe ab. Wenn Sie auf Start klicken, werden Sie per Zufall einer von zwei Gruppen zugeteilt. Au&szlig;erdem wird Ihnen anhand eines Beispiels
	  der genaue Testablauf erl&auml;utert.
	  </p>
      <button id="start-button">Start</button>
    </div>
	
	<div id="tutorial" style="display: none;">
      <div id="tutorial-popups">
        <div id="tutorial-step-1" class="tutorial-popup" style="display: none;">
          <p>Hier sehen Sie ein Beispielpanorama. Verwenden Sie die Maus, um sich umzusehen und hineinzuzoomen.</p>
          <button id="tutorial-next-1">Weiter</button>
        </div>
        <div id="tutorial-step-2" class="tutorial-popup" style="display: none;">
          <p>Unten rechts sehen Sie eine interaktive Karte, die sie mit dem Pfeil vergr&ouml;&szlig;ern bzw. verkleinern k&ouml;nnen. Sie ist auf eine bestimmte Region begrenzt.
		  Verwenden Sie die Karte, um den Standort des Panoramas zu bestimmen. Der Standort jedes Panoramas liegt immer innerhalb des Kartenausschnitts.</p>
          <button id="tutorial-next-2">Weiter</button>
        </div>
        <div id="tutorial-step-3" class="tutorial-popup" style="display: none;">
          <p>Wenn Sie meinen den Standort gefunden zu haben, setzen Sie einen Marker auf der Karte ab, um den Standort zu markieren. Sie k&ouml;nnen beliebig oft klicken. Der
		  Marker wird dann aktualisiert.
		  Klicken Sie anschlie&szlig;end auf "Standort einreichen".</p>
          <button id="tutorial-next-3">Weiter</button>
        </div>
        <div id="tutorial-step-4" class="tutorial-popup" style="display: none;">
          <p>Beantworten Sie die nun die Frage. Wenn Sie auf OK klicken, geht der eigentliche Test auch schon los. Wenden Sie die gleichen Schritte auf alle acht folgenden
		  Panoramen an. Viel Spa&szlig;!</p>
        </div>
      </div>
    </div>
	
    <div id="map" style="display: none;"></div>
	
    <div id="map-container" style="display: none;">
      <div id="google-map"></div>
      <button id="expand-map-button">&#8598;</button> <!-- Arrow icon for expand -->
	  <button id="submit-button" style="display: none;">Standort einreichen</button> <!-- New submit button -->
    </div>
	
	
	<div id="finished-message" style="display: none;">
      <h1>Fertig! Danke f&uuml;r Ihre Teilname</h1>
    </div>
	
	<div id="area-knowledge-modal" class="modal" style="display: none;">
      <div class="modal-content">
		<button id="modal-exit-button" class="modal-button">&times;</button>
        <p>Kennen Sie das Gebiet?</p>
        <label>
          <input type="checkbox" id="checkbox-yes" name="area-knowledge"> Ja
        </label>
        <label>
          <input type="checkbox" id="checkbox-no" name="area-knowledge"> Nein
        </label>
		
        <button id="modal-ok-button" disabled style="display: none;">OK</button>
      </div>
    </div>

    <!-- 
      The `defer` attribute causes the callback to execute after the full HTML
      document has been parsed. For non-blocking uses, avoiding race conditions,
      and consistent behavior across browsers, consider loading using Promises.
      See https://developers.google.com/maps/documentation/javascript/load-maps-js-api
      for more information.
      -->
    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg&callback=initPano&v=weekly"
      defer
    ></script>
  </body>
</html>
